<div class="row p-2">
  <div class="col-sm-12 col-md-4 form-group">
    <label for="byCostCenter">Centro de custo</label>
    <select name="costCenter" id="costCenter" [(ngModel)]="filterModel.costCenter" class="form-control">
      <option [ngValue]="undefined">Todos</option>
      <option [ngValue]="center._id" *ngFor="let center of costCenterList">{{ center.name }}</option>
    </select>
  </div>
  <div class="col-sm-12 col-md-3 form-group">
    <label for="startAt">Data inicial</label>
    <input
      type="date"
      placeholder="Início"
      [(ngModel)]="filterModel.startDate"
      name="startAt"
      id="startAt"
      class="form-control"
    />
  </div>
  <div class="col-sm-12 col-md-3 form-group">
    <label for="endAt">Data final</label>
    <input
      type="date"
      placeholder="Fim"
      name="endAt"
      [(ngModel)]="filterModel.endDate"
      id="endAt"
      class="form-control"
    />
  </div>

  <div class="col-sm-12 col-md-2 form-group pt-4 mt-2">
    <button *ngIf="!isLoading" class="btn btn-primary" (click)="search(true)">
      <i class="fa fa-search"></i> Pesquisar
    </button>
    <button *ngIf="isLoading" class="btn btn-primary" disabled>
      <i class="fa fa-spin fa-spinner"></i> Processando...
    </button>
  </div>
</div>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead class="thead-dark">
      <tr class="text-center">
        <th class="text-left">#</th>
        <th>Centro de custo</th>
        <th>Tempo gasto</th>
        <th>Ação</th>
      </tr>
    </thead>
    <tbody>
      <tr class="text-center" *ngIf="!(releases$ | async)?.length">
        <td colspan="4">Nenhum registro encontrado.</td>
      </tr>
      <tr class="text-center" *ngFor="let release of releases$ | async">
        <td class="text-left">{{ release?.createdAt | date: 'dd/MM/yyyy HH:mm' }}</td>
        <td>{{ release?.costCenter.name }}</td>
        <td>{{ formatTime(release?.hour, release?.minute) }}</td>
        <td>
          <button class="btn btn-primary btn-sm mr-2" (click)="edit(release._id)"><i class="fa fa-edit"></i></button>
          <button class="btn btn-danger btn-sm" (click)="remove(release._id)"><i class="fa fa-trash"></i></button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-between">
    <nav aria-label="Paginação">
      <ul class="pagination">
        <li class="page-item">
          <button class="page-link" (click)="previousPage()"><i class="fa fa-chevron-left"></i> Anterior</button>
        </li>
        <li class="page-item">&nbsp;</li>
        <li class="page-item">&nbsp;</li>
        <li class="page-item">&nbsp;</li>
        <li class="page-item">&nbsp;</li>
        <li class="page-item">&nbsp;</li>
        <li class="page-item">
          <button class="page-link" (click)="nextPage()">Próximo <i class="fa fa-chevron-right"></i></button>
        </li>
      </ul>
    </nav>

    <i class="fa fa-spin fa-spinner fa-lg" *ngIf="isLoading"></i>
  </div>
</div>
